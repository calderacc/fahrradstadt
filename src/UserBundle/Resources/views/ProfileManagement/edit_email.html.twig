{% extends 'AppBundle::layout.html.twig' %}

{% block title %}Dein Benutzerprofil{% endblock %}

{% block content %}
    <div class="container">
        <div class="row">
            <div class="col-12 col-md-8">
                <div class="row">
                    <div class="col-12">
                        <h2>
                            E-Mail-Adresse ändern
                        </h2>

                        <p class="lead">
                            Hier kannst du deine E-Mail-Adresse ändern &mdash; denk daran, dich beim nächsten Mal mit deiner neuen E-Mail-Adresse einzuloggen.
                        </p>
                    </div>
                </div>

                {% if app.user.oauthAccount %}
                    <div class="row">
                        <div class="col-12">
                            <div class="alert alert-info" role="alert">
                                Du kannst dein Kennwort nicht ändern, weil du dich über ein soziales Netzwerk bei criticalmass.in anmeldest.
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-12 text-center">
                            <a class="btn btn-secondary" href="{{ path('profile_management_index') }}">
                                Zurück
                            </a>
                        </div>
                    </div>
                {% else %}

                    {{ form_start(userEmailForm) }}

                    <div class="row">
                        <div class="col-md-6 col-md-offset-3">
                            <div class="card">
                                <div class="card-header">
                                    Deine E-Mail-Adresse
                                </div>
                                <div class="card-body form-group form-group{% if form_errors(userEmailForm.email) %} has-error has-feedback{% endif %}">
                                    <p class="card-text">
                                        Deine E-Mail-Adresse wird selbstverständlich nirgendwo öffentlich angezeigt.
                                    </p>

                                    {{ form_errors(userEmailForm.email) }}

                                    <label class="control-label" for="">
                                        E-Mail-Adresse:
                                    </label>
                                    {{ form_widget(userEmailForm.email, { 'attr' : { 'class': 'form-control'} }) }}
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-md-6 col-md-offset-3 text-center">
                            <div class="btn-group" role="group">
                                <a href="{{ path('profile_management_index') }}" class="btn btn-secondary">
                                    Abbrechen
                                </a>

                                <button type="submit" class="btn btn-primary">
                                    Speichern
                                </button>
                            </div>
                        </div>
                    </div>

                    {{ form_end(userEmailForm) }}
                {% endif %}

            </div>

            <div class="col-12 col-md-4" id="sidebar-container">
                {{ render(controller('AppBundle:Sidebar:sidebar')) }}
            </div>
        </div>
    </div>
{% endblock %}
