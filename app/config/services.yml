# Learn more about services, parameters and containers at
# http://symfony.com/doc/current/service_container.html
parameters:
#    parameter_name: value

services:
#    service_name:
#        class: AppBundle\Directory\ClassName
#        arguments: ["@another_service_name", "plain_value", "%parameter_name%"]
    user_provider:
        class: AppBundle\UserProvider\FOSUBUserProvider
        arguments: ['@fos_user.user_manager', {facebook: facebookId, strava: stravaId, twitter: twitterId}]

    admin.city:
        class: AppBundle\Admin\CityAdmin
        arguments: [~, AppBundle\Entity\City, ~]
        tags:
            - { name: sonata.admin, manager_type: orm, label: City }

    admin.photo:
        class: AppBundle\Admin\PhotoAdmin
        arguments: [~, AppBundle\Entity\Photo, ~]
        tags:
            - { name: sonata.admin, manager_type: orm, label: Photo }

    admin.user:
        class: AppBundle\Admin\UserAdmin
        arguments: [~, AppBundle\Entity\User, ~]
        tags:
            - { name: sonata.admin, manager_type: orm, label: User }

    admin.comment:
        class: AppBundle\Admin\CommentAdmin
        arguments: [~, AppBundle\Entity\Comment, ~]
        tags:
            - { name: sonata.admin, manager_type: orm, label: Comment }

    admin.invitation:
        class: AppBundle\Admin\InvitationAdmin
        arguments: [~, AppBundle\Entity\Invitation, ~]
        tags:
            - { name: sonata.admin, manager_type: orm, label: Invitation }

    gelf.publisher:
        class: Gelf\MessagePublisher
        arguments: ['%graylog.hostname%', '%graylog.port%']

    monolog.gelf_handler:
        class: Monolog\Handler\GelfHandler
        arguments: ['@gelf.publisher', 'error']
